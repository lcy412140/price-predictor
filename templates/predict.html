<!DOCTYPE html>
<html lang="zh-Hant">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Predict Result</title>

   <style>
      :root {
         --color-dark-blue: #465C88;
         --color-primary: #FF7A30;
         --color-teal: #000000;
         --color-pink: #FF7A30;
         --color-bg: #E9E3DF;
      }

      * {
         box-sizing: border-box;
         margin: 0;
         padding: 0;
      }

      body {
         font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
         line-height: 1.6;
         background-color: var(--color-bg);
         color: #333;
      }

      header {
         background-color: var(--color-dark-blue);
         color: #fff;
         padding: 16px 24px;
         position: sticky;
         top: 0;
         z-index: 10;
         box-shadow: 0 4px 10px rgba(57, 61, 126, 0.3);
         display: flex;
         justify-content: space-between;
         align-items: center;
      }

      header h1 {
         font-size: 1.3rem;
         font-weight: 700;
         letter-spacing: 1px;
      }

      main {
         max-width: 900px;
         width: 90%;
         margin: 50px auto;
         padding: 60px 40px;
         background-color: #fff;
         border-radius: 16px;
         border-top: 8px solid var(--color-teal);
         box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
         text-align: center;
      }

      h2 {
         color: var(--color-dark-blue);
         margin-bottom: 16px;
         font-size: 28px;
         font-weight: 700;
      }

      .price-tag {
         font-size: 48px;
         font-weight: 800;
         color: var(--color-primary);
         margin: 30px 0;
         display: block;
      }

      p {
         color: #666;
         margin-bottom: 24px;
      }

      .btn-back {
         display: inline-block;
         margin-top: 30px;
         padding: 12px 30px;
         background-color: #fff;
         color: var(--color-primary);
         border: 2px solid var(--color-primary);
         border-radius: 50px;
         text-decoration: none;
         font-weight: 600;
         transition: all 0.3s;
      }

      .btn-back:hover {
         background-color: var(--color-primary);
         color: #fff;
      }

      footer {
         text-align: center;
         padding: 40px 20px;
         color: #888;
         font-size: 13px;
      }

      .price-details {
         background: #f8f9fa;
         padding: 20px;
         border-radius: 12px;
         margin: 30px auto;
         max-width: 600px;
         text-align: left;
         border: 1px solid #eee;
         box-shadow: 0 2px 8px rgba(0, 0, 0, 0.03);
      }

      .price-details h3 {
         font-size: 1rem;
         color: #666;
         margin-bottom: 15px;
         border-bottom: 1px solid #ddd;
         padding-bottom: 10px;
      }

      .detail-row {
         display: flex;
         justify-content: space-between;
         margin-bottom: 12px;
         font-size: 1.1rem;
         align-items: center;
      }

      .detail-row.deduction {
         color: #dc3545;
      }

      .detail-row.final {
         font-weight: 700;
         font-size: 1.2rem;
         color: var(--color-primary);
         margin-top: 10px;
      }
   </style>
</head>

<body>
   <header>
      <h1>ML Team 18 Price Predictor</h1>
   </header>

   <main>
      <h2>Prediction Result</h2>

      {% if result_image %}
      <div style="margin-bottom: 20px;">
         <img src="data:image/jpeg;base64,{{ result_image }}"
            style="max-width: 100%; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);" alt="Result">
      </div>
      {% endif %}

      <p>Based on specs and condition, the estimated price is:</p>

      <span class="price-tag">NT${{ price }}</span>

      <div class="price-details">
         <h3>Valuation Breakdown</h3>

         <div class="detail-row">
            <span>üìù Base Price (Specs):</span>
            <span style="font-weight: 600;">${{ base_price }}</span>
         </div>

         <div class="detail-row deduction">
            <span>üì∑ Defect Deduction ({{ defect_count }} defects):</span>
            <span style="font-weight: 600;">- ${{ deduction }}</span>
         </div>

         <hr style="border: 0; border-top: 1px dashed #ccc; margin: 10px 0;">

         <div class="detail-row final">
            <span>Final Estimate:</span>
            <span>NT${{ price }}</span>
         </div>
      </div>

      <a href="/" class="btn-back">Try Another One</a>
   </main>

   <footer>
      <p>ML TEAM#18</p>
   </footer>
</body>

</html>